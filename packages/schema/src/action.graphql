type Action {
  id: UUID!
  createdAt: DateTime!
  order: Int!
  field: String!
  type: ActionType!
  name: String
  config: JSONObject!
  references: [Reference!]!
}

type Reference {
  field: String!
  type: ReferenceType!
  data: ReferenceData!
}

union ReferenceData = Page | Command | Module

enum ReferenceType {
  page
  command
  module
}

enum ActionType {
  debug
  function
  operation
  redirect
}

extend type Mutation {
  createAction(
    actionId: UUID!
    moduleId: UUID!
    order: Int!
    field: String!
    type: ActionType!
    name: String
    config: JSONObject!
    relations: JSONObject!
  ): Action!
  updateAction(
    actionId: UUID!
    name: String
    config: JSONObject
    relations: JSONObject
  ): Action!
  removeAction(actionId: UUID!): Boolean!
  assocPage(actionId: UUID!, pageId: Int!): Page!
  dissocPage(actionId: UUID!, pageId: Int!): Boolean!
  assocOperation(actionId: UUID!, operationId: Int!): Command!
  dissocOperation(actionId: UUID!, operationId: Int!): Boolean!
  assocModule(actionId: UUID!, moduleId: UUID!): Module!
  dissocModule(actionId: UUID!, moduleId: UUID!): Boolean!
}
