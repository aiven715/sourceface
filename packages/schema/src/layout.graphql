# Consider removing Layout and Position entity completely, since it might be stored as JSON type for the
# page table and also inside of a config in case of modules nesting. Keeping such data in relational table
# doesn't make sence since we don't need make queries and joins with it.

# Alternatively have layouts table and keep position JSON as column in modules table

type Layout {
  id: Int!
  createdAt: DateTime!
  page: Page!
  positions: [Position!]!
}

type Position {
  id: Int!
  x: Int!
  y: Int!
  w: Int!
  h: Int!
}

input PositionInput {
  id: Int
  layoutId: Int!
  x: Int!
  y: Int!
  w: Int!
  h: Int!
}

extend type Mutation {
  updatePositions(positions: [PositionInput]!): [Position!]!
}
