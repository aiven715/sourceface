directive @notAuthenticated on FIELD_DEFINITION
directive @authenticated on FIELD_DEFINITION
# directive @authorized(permissions: [Permissions]) on FIELD_DEFINITION

# enum Permissions {
#   INVITE
#   CHANGE_PASSWORD
# }

type User {
  id: Int!
  createdAt: DateTime!
  email: String!
  username: String!
  # role: String!
  # permissions: [Permissions!]
}

extend type Query {
  myself: User! @authenticated
  # environment. google/facebook/twitter auth available, sendgrid

  # Should we move it to general app query where we get also information whether google auth is available(based on env variable user provided)?
  # fetch that info on unauthenticated pages only
  # but keep in on root query
  # or name `hasUsers` and keep here?
  isOnboarding: Boolean!
}

extend type Mutation {
  signInLocal(username: String!, password: String!): User! @notAuthenticated
  # signInGoogle(code: String!): User! @notAuthenticated
  signOut: Boolean! @authenticated
  signUp(
    username: String!
    email: String!
    password: String!
    invitation: String
  ): User! @notAuthenticated
  # invite(email: String!): String!
  #   @authenticated
  #   @authorized(permissions: [INVITE])
  # changePassword(email: String!, password: String!): Boolean!
  #   @authenticated
  #   @authorized(permissions: [CHANGE_PASSWORD])
  # changeSelfPassword(oldPassword: String!, newPassword: String!): Boolean!
  #   @authenticated
}
